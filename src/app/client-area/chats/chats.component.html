<div class="h-screen z-0 bg-blauf flex select-none overflow-hidden">
  <div class="bg-blancb md:pt-20 pt-4 gap-5 md:gap-3 flex-col w-full md:w-auto min-w-[300px] {{ createNewChat ? 'md:block hidden':''}}">
    <h1 class="text-4xl font-extrabold text-center mt-2 pb-2">CHATS</h1>
    <div class="overflow-y-auto max-h-[80vh] px-4">
      <div class="bg-blaum rounded-3xl relative flex flex-col tab overflow-hidden my-2" *ngFor="let pr of projects | keyvalue" (click)="setProject(pr)">
        <div class="relative py-4 px-2 shadow-md">
          <span class="font-extrabold text-2xl my-auto uppercase min-w-[200px]">{{ pr.key == "noProject" ? "No project":pr.key }}<br><span class="text-xl">{{ getLenght(pr) }}</span></span>
          <svg xmlns="http://www.w3.org/2000/svg" class="absolute text-blancb h-10 w-10 right-2 top-1/2 transition-all duration-500 -translate-y-1/2 {{ project == pr.key ? 'rotate-45':''}}" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 112v288M400 256H112"/></svg>
        </div>
        <div style="{{ project == pr.key ? getH(pr.value):'max-height: 0px;'}}" class="transition-all duration-700 overflow-hidden">
          <div *ngFor="let chat of getValue(pr.value)" [routerLink]="[pr.key == 'noProject' ? '/client/chat/'+chat._id:'/client/projects/'+chat.project._id+'/chats/'+chat._id]" class="hover:pl-6 pl-4 py-1 uppercase transition-all cursor-pointer duration-300">
            {{ chat.titol | slice:0:25 }} {{ chat.titol.length > 25 ? '...':''}}
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="bg-blauf w-full {{ createNewChat ? 'flex':'hidden md:flex' }} flex-col pt-20 md:pb-8 md:px-8 pb-4 px-2">
    <h1 class="text-4xl lg:text-6xl font-extrabold uppercase text-center mb-5 text-blancb">CREATE NEW CHAT</h1>
    <form [formGroup]="newChatForm" class="bg-blancb drop-shadow-lg h-full rounded-3xl flex flex-col overflow-auto">
      <div class="flex flex-col overflow-y-auto pb-3 h-full" #scrollMe [scrollTop]="scrollMe.scrollHeight">
        <svg (click)="createNewChat = !createNewChat" xmlns="http://www.w3.org/2000/svg" [routerLink]="['/client/chat']" class="h-6 md:hidden block absolute top-2 left-2 translate-x-1/2 cursor-pointer" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M112 160l-64 64 64 64"/><path d="M64 224h294c58.76 0 106 49.33 106 108v20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/></svg>
      </div>
      <div class="mx-auto w-[96%] relative mb-2 md:mb-4 overflow-y-auto min-h-[270px] md:min-h-[315px]">
        <label class="block relative mb-4 group w-full mt-10">
          <input placeholder="Title" class="border-b-2 w-full rounded-xl border-0 drop-shadow-sm hover:drop-shadow-lg focus:drop-shadow-lg shadow-sm focus:shadow-lg transition-all duration-200 outline-none focus:outline-none ring-0 focus:ring-0 {{ newChatForm.controls['title'].invalid && newChatForm.controls['title'].touched ? 'border-error animate-error':newChatForm.controls['title'].touched ? 'border-correct':''}}" type="text" formControlName="title" name="title" required="required">
        </label>
        <angular-editor [placeholder]="'You have any question?'" [config]="config" formControlName="htmlContent">
        </angular-editor>
        <svg (click)="createChat()" xmlns="http://www.w3.org/2000/svg" class="absolute bottom-2 right-4 h-6 w-6 cursor-pointer" viewBox="0 0 512 512"><path d="M16 464l480-208L16 48v160l320 48-320 48z"/></svg>
      </div>
    </form>
  </div>
</div>
<svg (click)="createNewChat = !createNewChat" name="New chat" xmlns="http://www.w3.org/2000/svg" class="absolute block md:hidden rounded-full transition-all duration-500 bg-blauf {{ createNewChat ? 'rotate-45 text-red-500 h-8 w-8 bottom-2 right-2':'text-blancb h-16 w-16 bottom-4 right-4'}}" viewBox="0 0 512 512"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 112v288M400 256H112"/></svg>
