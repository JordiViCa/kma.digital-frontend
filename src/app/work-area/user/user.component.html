<div class="h-screen z-0 bg-blauf flex flex-col lg:px-20 xl:px-32 lg:pt-20 xl:pt-32 px-4 pt-20 pb-4 select-none overflow-hidden">
  <div class="sm:mx-auto flex flex-col gap-2 text-blancb text-center pb-10 md:py-10">
      <h1 class="text-4xl sm:text-6xl font-extrabold uppercase flex flex-col md:flex-row">
        <span>USER INFORMATION</span>
        <svg *ngIf="user && user.type == 1" (click)="show = !show" xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto mt-2 md:mr-0 md:my-auto cursor-pointer md:ml-10" viewBox="0 0 512 512"><path d="M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v160M336 256H176"/></svg>
      </h1>
  </div>
  <div class="flex flex-row flex-wrap gap-5 mb-auto overflow-auto">
    <form [formGroup]="userForm" class="flex flex-row flex-wrap gap-5 shadow-lg justify-center rounded-2xl p-5 bg-[#00000011] w-full">
      <h2 class="w-full text-2xl lg:text-4xl uppercase font-extrabold text-blancb">User information</h2>
      <label class="block relative mb-4 w-full md:w-[28%] lg:w-[30%] group">
        <span class="text-blancb uppercase text-lg pl-2">Name</span>
        <input class="text-[#2b2b2b] border-b-2 w-full rounded-xl border-0 drop-shadow-md hover:drop-shadow-lg focus:drop-shadow-lg shadow-sm focus:shadow-lg transition-all duration-200 outline-none focus:outline-none ring-0 focus:ring-0 {{ userForm.controls['name'].invalid && userForm.controls['name'].touched ? 'border-error animate-error':userForm.controls['name'].touched ? 'border-correct':''}}" type="text" formControlName="name" name="name" required="required">
      </label>
      <label class="block relative mb-4 w-full md:w-[28%] lg:w-[30%] group">
        <span class="text-blancb uppercase text-lg pl-2">Phone number</span>
        <input class="text-[#2b2b2b] border-b-2 w-full rounded-xl border-0 drop-shadow-md hover:drop-shadow-lg focus:drop-shadow-lg shadow-sm focus:shadow-lg transition-all duration-200 outline-none focus:outline-none ring-0 focus:ring-0 {{ userForm.controls['phone'].invalid && userForm.controls['phone'].touched ? 'border-error animate-error':userForm.controls['phone'].touched ? 'border-correct':''}}" type="text" formControlName="phone" name="phone" required="required">
      </label>
      <label class="block relative mb-4 w-full md:w-[28%] lg:w-[30%] group">
        <span class="text-blancb uppercase text-lg pl-2">NIF</span>
        <input class="text-[#2b2b2b] border-b-2 w-full rounded-xl border-0 drop-shadow-md hover:drop-shadow-lg focus:drop-shadow-lg shadow-sm focus:shadow-lg transition-all duration-200 outline-none focus:outline-none ring-0 focus:ring-0 {{ userForm.controls['nif'].invalid && userForm.controls['nif'].touched ? 'border-error animate-error':userForm.controls['nif'].touched ? 'border-correct':''}}" type="text" formControlName="nif" name="nif" required="required">
      </label>
      <div class="w-full pb-4">
        <button (click)="updateUser()" class="text-blancb float-right bg-blue-700 hover:bg-blue-800 disabled:hover:bg-blue-700 disabled:opacity-70 disabled:cursor-not-allowed outline-none font-medium rounded-full px-10 py-2 text-center mx-auto text-lg drop-shadow-xl" type="submit" [disabled]="!userForm.valid || !userForm.dirty">
          Change user
        </button>
      </div>
    </form>
    <form [formGroup]="changePasswordForm" class="flex flex-row flex-wrap gap-5 shadow-lg justify-center rounded-2xl p-5 bg-[#00000011] w-full">
      <h2 class="w-full text-2xl lg:text-4xl uppercase font-extrabold text-blancb">Change password</h2>
      <label class="block relative mb-4 w-full md:w-[28%] lg:w-[30%] group">
        <span class="text-blancb uppercase text-lg pl-2">Old password</span>
        <input class="text-[#2b2b2b] border-b-2 w-full rounded-xl border-0 drop-shadow-md hover:drop-shadow-lg focus:drop-shadow-lg shadow-sm focus:shadow-lg transition-all duration-200 outline-none focus:outline-none ring-0 focus:ring-0 {{ changePasswordForm.controls['passwordo'].invalid && changePasswordForm.controls['passwordo'].touched ? 'border-error animate-error':changePasswordForm.controls['passwordo'].touched ? 'border-correct':''}}" type="password" formControlName="passwordo" name="passwordo" required="required">
      </label>
      <label class="block relative mb-4 w-full md:w-[28%] lg:w-[30%] group">
        <span class="text-blancb uppercase text-lg pl-2">Password</span>
        <input class="text-[#2b2b2b] border-b-2 w-full rounded-xl border-0 drop-shadow-md hover:drop-shadow-lg focus:drop-shadow-lg shadow-sm focus:shadow-lg transition-all duration-200 outline-none focus:outline-none ring-0 focus:ring-0 {{ changePasswordForm.controls['password'].invalid && changePasswordForm.controls['password'].touched ? 'border-error animate-error':changePasswordForm.controls['password'].touched ? 'border-correct':''}}" type="password" formControlName="password" name="password" required="required">
      </label>
      <label class="block relative mb-4 w-full md:w-[28%] lg:w-[30%] group">
        <span class="text-blancb uppercase text-lg pl-2">Repeat password</span>
        <input class="text-[#2b2b2b] border-b-2 w-full rounded-xl border-0 drop-shadow-md hover:drop-shadow-lg focus:drop-shadow-lg shadow-sm focus:shadow-lg transition-all duration-200 outline-none focus:outline-none ring-0 focus:ring-0 {{ changePasswordForm.controls['passwordr'].invalid && changePasswordForm.controls['passwordr'].touched ? 'border-error animate-error':changePasswordForm.controls['passwordr'].touched ? 'border-correct':''}}" type="password" formControlName="passwordr" name="passwordr" required="required">
      </label>
      <div class="w-full pb-4">
        <button (click)="changePassword()" class="text-blancb float-right bg-blue-700 hover:bg-blue-800 disabled:hover:bg-blue-700 disabled:opacity-70 disabled:cursor-not-allowed outline-none font-medium rounded-full px-10 py-2 text-center mx-auto text-lg drop-shadow-xl" type="submit" [disabled]="!changePasswordForm.valid">
          Change password
        </button>
      </div>
    </form>
  </div>
</div>
<div (mousedown)="closePopup($event)" id="closePopup" *ngIf="showD" class="absolute flex bg-[#00000070] top-0 left-0 z-10 backdrop-blur-sm w-screen h-screen">
  <div class="m-auto bg-white p-10 rounded-2xl flex flex-col max-w-[95vw] md:max-w-[60vw] max-h-[90vh] overflow-auto">
    <h1 class=" text-4xl md:text-6xl uppercase font-semibold mb-5">User updated</h1>
    <button id="closePopup" class="px-4 py-2 bg-red-500 hover:bg-red-600 rounded-full text-white font-semibold">CLOSE</button>
  </div>
</div>
<div (mousedown)="closePopup($event)" id="closePopup" *ngIf="show" class="absolute flex bg-[#00000070] top-0 left-0 z-10 backdrop-blur-sm w-screen h-screen">
  <div class="m-auto bg-white p-10 rounded-2xl flex flex-col max-w-[95vw] md:max-w-[60vw] max-h-[90vh] overflow-auto">
    <h1 class=" text-4xl md:text-6xl uppercase font-semibold mb-5 text-center">Add new worker</h1>
    <form [formGroup]="newUserForm" class="flex flex-row flex-wrap gap-5 shadow-lg justify-center rounded-2xl p-5 bg-[#00000011] w-full">
      <label class="block relative w-full group">
        <span class="text-[#2b2b2b] uppercase text-lg pl-2">Name</span>
        <input class="text-[#2b2b2b] border-b-2 w-full rounded-xl border-0 drop-shadow-md hover:drop-shadow-lg focus:drop-shadow-lg shadow-sm focus:shadow-lg transition-all duration-200 outline-none focus:outline-none ring-0 focus:ring-0 {{ newUserForm.controls['name'].invalid && newUserForm.controls['name'].touched ? 'border-error animate-error':newUserForm.controls['name'].touched ? 'border-correct':''}}" type="text" formControlName="name" name="name" required="required">
      </label>
      <label class="block relative w-full group">
        <span class="text-[#2b2b2b] uppercase text-lg pl-2">Phone number</span>
        <input class="text-[#2b2b2b] border-b-2 w-full rounded-xl border-0 drop-shadow-md hover:drop-shadow-lg focus:drop-shadow-lg shadow-sm focus:shadow-lg transition-all duration-200 outline-none focus:outline-none ring-0 focus:ring-0 {{ newUserForm.controls['phone'].invalid && newUserForm.controls['phone'].touched ? 'border-error animate-error':newUserForm.controls['phone'].touched ? 'border-correct':''}}" type="text" formControlName="phone" name="phone" required="required">
      </label>
      <label class="block relative w-full group">
        <span class="text-[#2b2b2b] uppercase text-lg pl-2">NIF</span>
        <input class="text-[#2b2b2b] border-b-2 w-full rounded-xl border-0 drop-shadow-md hover:drop-shadow-lg focus:drop-shadow-lg shadow-sm focus:shadow-lg transition-all duration-200 outline-none focus:outline-none ring-0 focus:ring-0 {{ newUserForm.controls['nif'].invalid && newUserForm.controls['nif'].touched ? 'border-error animate-error':newUserForm.controls['nif'].touched ? 'border-correct':''}}" type="text" formControlName="nif" name="nif" required="required">
      </label>
      <label class="block relative w-full group">
        <span class="text-[#2b2b2b] uppercase text-lg pl-2">EMAIL</span>
        <input class="text-[#2b2b2b] border-b-2 w-full rounded-xl border-0 drop-shadow-md hover:drop-shadow-lg focus:drop-shadow-lg shadow-sm focus:shadow-lg transition-all duration-200 outline-none focus:outline-none ring-0 focus:ring-0 {{ newUserForm.controls['email'].invalid && newUserForm.controls['email'].touched ? 'border-error animate-error':newUserForm.controls['email'].touched ? 'border-correct':''}}" type="text" formControlName="email" name="email" required="required">
      </label>
      <label class="block relative w-full group">
        <span class="text-[#2b2b2b] uppercase text-lg pl-2">PASSWORD</span>
        <input class="text-[#2b2b2b] border-b-2 w-full rounded-xl border-0 drop-shadow-md hover:drop-shadow-lg focus:drop-shadow-lg shadow-sm focus:shadow-lg transition-all duration-200 outline-none focus:outline-none ring-0 focus:ring-0 {{ newUserForm.controls['password'].invalid && newUserForm.controls['password'].touched ? 'border-error animate-error':newUserForm.controls['password'].touched ? 'border-correct':''}}" type="password" formControlName="password" name="password" required="required">
      </label>
      <label class="block relative w-full group">
        <span class="text-[#2b2b2b] uppercase text-lg pl-2">CONFIRM PASSWORD</span>
        <input class="text-[#2b2b2b] border-b-2 w-full rounded-xl border-0 drop-shadow-md hover:drop-shadow-lg focus:drop-shadow-lg shadow-sm focus:shadow-lg transition-all duration-200 outline-none focus:outline-none ring-0 focus:ring-0 {{ newUserForm.controls['confirm'].invalid && newUserForm.controls['confirm'].touched ? 'border-error animate-error':newUserForm.controls['confirm'].touched ? 'border-correct':''}}" type="password" formControlName="confirm" name="confirm" required="required">
      </label>
      <div class="w-full pb-4">
        <button (click)="createUser()" class="text-blancb uppercase float-right bg-blue-700 hover:bg-blue-800 disabled:hover:bg-blue-700 disabled:opacity-70 disabled:cursor-not-allowed outline-none font-medium rounded-full px-10 py-2 text-center mx-auto text-lg drop-shadow-xl" type="submit" [disabled]="!newUserForm.valid || !newUserForm.dirty">
          Create user
        </button>
        <button id="closePopup" class="px-4 py-2 bg-red-500 hover:bg-red-600 rounded-full text-white font-semibold">CLOSE</button>
      </div>
    </form>
  </div>
</div>